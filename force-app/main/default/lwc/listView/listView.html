<!-- List View -->
<template>
  <div class="slds-card slds-card_boundary">
    <c-card-heading
      icon-name={icon}
      sub-title={subTitle}
      title={title}
      title-count={dataTotalCount}>
      <slot name="buttons" slot="buttons"></slot>
    </c-card-heading>
    <div class="slds-border_bottom slds-color__border_gray-6"></div>
    <div class="alert-container" if:true={_error}>
      <c-alert variant="error">
        {_error}
      </c-alert>
    </div>
    <div class="datatable-container" style={dataTableStyle}>
      <lightning-datatable
        columns={columns}
        data={data}
        enable-infinite-loading={infiniteScrolling}
        hide-checkbox-column
        if:true={showTable}
        key-field="Id"
        onloadmore={onLoadMore}
        onrowaction={onRowAction}
        onsort={onSort}
        show-row-number-column={showRowNumber}
        sorted-by={sortBy}
        sorted-direction={sortDirection}
      >
      </lightning-datatable>
      <div class="datatable-sidebar" if:true={showTable}></div>
      <div class="datatable-placeholder" if:true={showPlaceholder}></div>
      <div class="spinner-container" if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium" variant="brand"></lightning-spinner>
      </div>
      <div class="empty-container slds-color__background_gray-1" if:true={isDataEmpty}>
        No items to display
      </div>
    </div>
    <div class="slds-card__footer footer-container" if:true={showPages}>
      <lightning-button
        disabled={isPagePreviousDisabled}
        icon-name="utility:chevronleft"
        label="Previous"
        onclick={onPagePrevious}
        variant="brand-outline"
      >
      </lightning-button>
      <div class="slds-m-horizontal_small">
        Showing Page {page} of {pageLast}
      </div>
      <lightning-button
        disabled={isViewAllDisabled}
        label="View All"
        onclick={onViewAll}
        variant="brand-outline"
      >
      </lightning-button>
      <lightning-button
        class="slds-m-left_x-small"
        disabled={isPageNextDisabled}
        icon-name="utility:chevronright"
        icon-position="right"
        label="Next"
        onclick={onPageNext}
        variant="brand-outline"
      >
      </lightning-button>
    </div>
  </div>
</template>